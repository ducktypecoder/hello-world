var validateConfig = require('./lib/validate-config');
var getCurrentStepForProject = require('./lib/get-current-step-for-project');
var runTestsForStep = require('./lib/run-tests-for-step');
var submitTestResults = require('./lib/submit-test-results');
var handleApiResponse = require('./lib/handle-api-response');

validateConfig();

getCurrentStepForProject()
  .then(step => runTestsForStep(step))
  .then(answer => submitTestResults(answer))
  .then(response => handleApiResponse(response));
